---
import Layout from '../layouts/Layout.astro';

const params = Astro.url.searchParams;
const message = params.get('message') ?? 'Hubo un problema al procesar tu pago.';
---

<Layout>
  <main class="min-h-screen flex items-center justify-center bg-gradient-to-br from-rose-50 via-white to-white relative overflow-hidden">
    <!-- Glow decorativo -->
    <div class="absolute -top-24 -right-16 w-72 h-72 bg-rose-200 rounded-full blur-3xl opacity-40"></div>
    <div class="absolute -bottom-24 -left-24 w-96 h-96 bg-rose-100 rounded-full blur-3xl opacity-40"></div>

    <section class="relative w-full max-w-xl">
      <div class="rounded-3xl border border-gray-200/70 bg-white/80 backdrop-blur-xl shadow-xl p-10 text-center">
        <div class="mx-auto mb-6 flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-rose-500 to-rose-600 text-white shadow-lg">
          <!-- Cross icon -->
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </div>

        <h1 class="text-2xl font-semibold tracking-tight text-gray-900">Pago no realizado</h1>
        <p class="mt-2 text-sm text-gray-600">
          {message}
        </p>
        <p class="mt-1 text-xs text-gray-500">
          Si el cargo estaba en proceso, podría tardar unos minutos en reflejarse.
        </p>

        <div class="mt-8 grid grid-cols-1 gap-3 sm:grid-cols-2">
          <a href="/" class="inline-flex items-center justify-center rounded-xl bg-black px-5 py-3 text-sm font-medium text-white shadow-sm transition-all hover:bg-gray-800 active:bg-gray-900">
            Volver al inicio
          </a>
          <a href="/#comprar" class="inline-flex items-center justify-center rounded-xl border border-gray-300 bg-white px-5 py-3 text-sm font-medium text-gray-900 transition-all hover:bg-gray-100">
            Reintentar pago
          </a>
        </div>

        <div class="mt-6 text-xs text-gray-500">
          Si necesitas ayuda, contáctanos: <a href="mailto:soporte@sentinel.mechanical" class="underline hover:text-rose-600">soporte@sentinel.mechanical</a>
        </div>
      </div>

      <!-- Línea sutil animada -->
      <div class="pointer-events-none absolute -bottom-8 left-1/2 h-px w-56 -translate-x-1/2 bg-gradient-to-r from-transparent via-rose-400 to-transparent opacity-60"></div>
    </section>
  </main>

  <style>
    @keyframes subtle-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }
    section > div { animation: subtle-pulse 7s ease-in-out infinite; }
  </style>
</Layout>